<html>
  <body>
    <h1>Kali Linux 工具大全</h1>
    <h1>05 密码攻击</h1>
    <h2>工欲善其事，必先利其器，安全工程师，我要用KALI</h2>

    <p>『Kali Linux工具大全』是一门从实战出发，且理论与实践并重的系列技术课程。内容将涵盖Kali Linux中全部约600个安全工具的实战用法。</p>
    <p>本教程（密码攻击）是『Kali Linux工具大全』技术系列的第5部分，包含Kali Linux中全部密码攻击类工具。</p>
    <p>目前帐号/密码仍然是最主要的用户身份认证方式，但由于安全意识的淡漠，很多人仍在使用弱密码。而密码一旦泄漏，所有安全防范机制都将形同虚设。本课程向大家详述Kali Linux中全部在线/离线密码破解工具的用法，以此来帮助大家提前发现自己系统中的弱口令问题。</p>
    <p>漏洞挖掘和利用固然是安全非常重要的方面，但身份认证其实同样重要。试想一个看似坚不可破的系统却正在使用弱口令，一旦被黑客破解，其破坏程度将远远大于漏洞造成的损失。因为利用合法身份的访问，不会触发任何安全告警机制。</p>
    <p>同时密码攻击者会研究人类的行为规律，你看似足够安全的复杂密码，在黑客眼里却形同虚设，原因可能是他早已经“黑进了你的大脑”。为了实现这一点，黑客甚至会使用统计学方法，大大提高其破解成功率。你需要了解所有黑客的方法，才能更有效的保护系统安全。</p>

    <h2>128 crunch</h2>
    <p>在面对妥善保护的系统时，我们可能很难发现其漏洞和可渗透的突破口。作为渗透测试人员，此时应尝试对目标系统进行弱密码的检测。密码破解成败的关键在于字典的质量，crunch是一个密码字典生成器，它可以灵活的按照规则生成定制的密码字典，为了方便使用，其内建了常用的字符集文件，并支持自定义密码构成元素。</p>
    
    <h2>129 wordlists / SecLists</h2>
    <p>在面对妥善保护的系统时，我们可能很难发现其漏洞和可渗透的突破口。作为渗透测试人员，此时应尝试对目标系统进行弱密码的检测，密码破解成败的关键在于字典的质量。为了方便使用，Kali中已默认包含了大量通用密码字典，它们分别存放在wordlists、seclists两个目录之中。除密码字典之外，以上目录中还包含大量漏洞挖掘和Fuzz用途的字典文件。</p>
    
    <h2>130 hashid / hash-identifier</h2>
    <p>单向加密算法是将可变长度输入数据，加密生成固定长度的密文输出值，即所谓的HASH值。此加密算法通常被认为是不可逆的。但我们可以提前计算常见数据的HASH值，并利用其进行反查匹对应的明文，实现HASH破解。由于HASH算法种类众多，因此需要hashid、hash-identifier来提前判断生成密文的HASH算法，以便查询对应明文。</p>
    
    <h2>131 findmyhash</h2>
    <p>单向加密算法是将可变长度数据，加密生成固定长度的密文输出值，即所谓的HASH值。此加密算法通常被认为是不可逆的。但有众多网站会提前计算常见数据的HASH值，并利用其进行反查匹对应的明文，以此实现HASH值破解。findmyhash可在线查询多个站点的HASH值数据库，批量完成HASH值匹配的破解，其新版本查询效果更佳。</p>
    
    <h2>132 fcrackzip</h2>
    <p>存有机密数据的文件，经常会被其所有者加密压缩保存。而作为数据安全审计者，则应对加密文件进行弱口令检查，以确保数据安全性。fcrackzip是一款快速的ZIP压缩文件密码破解工具，其支持基于字典和爆破的两种工作模式，同时其内建了字符集和密码规则指定功能，免去了使用者提前准备和保存密码字典文件的繁琐。</p>
    
    <h2>133 cupp3 / cewl / fab-cewl</h2>
    <p>由于人性与生俱来的弱点，使得弱口令成为很多系统都存在的安全问题，即使是那些安全防护较好的站点也不例外。作为渗透测试者，如果能够获得目标系统的密码，则无需繁琐的漏洞挖掘，即可直接接管目标系统。密码破解的关键在于字典的命中率，cupp3可依据个人信息生成专属字典，cewl则通过收集企业信息生成专属字典。使用这些有针对性的字典，使得密码破解的成功率更高。</p>
    
    <h2>134 pwdump / samdump2</h2>
    <p>出于安全性的考虑，windows系统并不会保存用户账号的明文密码，而是以加密的形式存储于本机的SAM数据库中。不过密码虽为密文保存，但如果密码过于简单，仍然存在被破解的可能性。在可以物理接触电脑的情况下，我们可以利用pwdump、samdump2来读取SAM数据库文件中的密文密码，然后再使用其他工具进行密码破解。</p>
    
    <h2>135 chntpw</h2>
    <p>我有一个同事曾经受到电脑勒索，攻击者修改了他的系统账号密码，并要求他支付赎金。众所周知，出于安全性的考虑，windows系统并不会保存用户账号的明文密码，而是以加密的形式存储于本机的SAM数据库中。因此我们可以通过chntpw工具本地读取并修改SAM数据库，将账号密码清空，从而避免受到坏人的勒索。</p>
    
    <h2>136 hydra</h2>
    <p>密码破解大致可以分为在线破解和离线破解两种。所谓在线破解，就是使用不同的密码向目标服务器发起重复的身份验证请求，然后根据服务器的反馈信息判断登陆是否成功。hydra是开源世界在线密码破解工具中的王者，它不但支持常见的所有协议类型，同时也支持不同形式的WEB表单认证破解。它功能强大，使用灵活简洁。</p>
    
    <h2>137 pw-inspector</h2>
    <p>由于人性与生俱来的弱点，弱口令成为很多系统都存在的安全问题，即使是很多安全防护较好的站点也不例外。密码破解的关键在于字典的命中率，如果你知道密码的字符构成规则，可以使用pw-inspector对已有密码字典进行过滤筛选，以便提高密码破解的效率。pw-inspector不能凭空生成字典，它只是对现有字典的过滤筛选工具。</p>
    
    <h2>138 medusa</h2>
    <p>密码破解分为在线破解和离线破解两种。所谓在线破解，就是使用不同的账号密码重复向目标服务器提交身份验证请求，然后根据服务器的反馈信息判断登陆是否成功。medusa是开源世界在线密码破解工具中的又一王者（与hydra齐名），它支持常见的所有协议类型，同时超高的稳定性是其最大的优势，是密码破解领域的必备工具。</p>
    
    <h2>139 cmospwd</h2>
    <p>计算机开机后运行的第一个程序是POST，即加电自检程序。其检测到的硬件参数和使用者的设置参数都存储于cmos内存芯片中，这些配置参数中也包括cmos密码。在你不小心忘记了密码而无法修改硬件参数时，我们可以使用debug命令或comspwd工具清空或找回密cmos密码，其中cmospwd工具兼容众多BIOS生产厂商的产品，同时对某些品牌机的BIOS还有自动解锁的功能，是一个优秀的跨平台解密工具。</p>
    
    <h2>140 gpp-decrypt</h2>
    <p>从windows server 2008开始，微软为其活动目录域新增加了20多项组策略首选项（gpp）设置，其中包括通过GPO统一修改客户端账号密码的功能。出于安全的考略，微软使用了强密钥的AES算法来加密下发的密码，但乌龙事件使得微软在其开发者网站上直接公布了该密钥，因此使得安全目标完全破灭。gpp-decrypt既是一个基于泄漏密钥，对加密密码进行解密还原的工具。</p>
    
    <h2>141 dbpwaudit</h2>
    <p>dbpwaudit是一个由java语言编写的数据库在线密码破解工具，它只支持MSSQL、MySQL、DB2、Oracle等四种数据库类型。直到授课前我才发现，最新版的Kali Linux中已经不再包含此工具，因此现在我们必须手动下载才能使用这款工具。在审计不同数据库时，我们还需要单独下载相应数据库的JDBC驱动，才能使其正常工作。</p>
    
    <h2>142 crowbar</h2>
    <p>crowbar是一个在线的密码破解工具，与同为密码破解工具的hydra、medusa相比，crowbar支持的协议类型十分有限（只有四种），但却个性十足。crowbar支持的认证破解方式可以很好的弥补hydra、medusa的不足，它支持OpenVPN以及基于密钥方式身份认证的SSH、VNC服务，可作为其他强大密码破解工具的重要补充。</p>
    
    <h2>143 brutespray</h2>
    <p>渗透测试初期，我们总是会通过nmap进行主机发现、端口发现、服务发现等几个步骤，来确认可进行密码爆破的服务类型，然后再放出hydra、medusa等工具来实施破解。过程中如果相关端口数量众多的话，我们就不得不笨拙的一个一个进行输入。brutespray可以自动读取和解析nmap的扫描报告，并从中识别出可进行密码破解的服务类型，让后再自动调用medusa实施破解，这将大大提高我们的工作效率。</p>
    
    <h2>144 polenum</h2>
    <p>为了保护信息安全，企业网络通常会制定密码策略，强制要求员工设置足够安全的系统账号密码。但人永远都是安全中最薄弱的环节，由于人性中与生俱来怕麻烦和懒惰等特性，大家总是趋向于给自己设置简单的弱口令。作为企业中的安全和审计人员，有责任发现并纠正密码策略失效的情况，polenum是一个正向的安全检查工具，它能够帮助我们高效快捷的进行操作系统的密码策略审计。</p>
    
    <h2>145 rsmangler</h2>
    <p>与通过挖掘漏洞来进行渗透相比，通过密码破解来渗透目标的技术门槛相对较低，而且一旦成功其渗透行为也更加隐秘，因此密码破解成为了渗透过程中不可缺少的重要步骤。密码破解的成功关键在于密码字典的命中率，基于大多数人构造密码的习惯（姓名-生日-爱好等），rsmangler可以基于有限的个人信息，变形生成数量巨大的针对性专属密码字典，从而大大提高密码破解的成功率。</p>
    
    <h2>146 cachedump / lsadump</h2>
    <p>creddump工具集中包含了三个关于windows系统密码的破解工具。cachedump针对域账号在本地计算机中的缓存身分验证信息，它可以还原这些缓存的认证信息，并结合其他离线破解工具进行密码破解。运气好的话，你可能会得到域管理员的密码！！lsadump则可以直接还原那些由操作系统记住的密码，比如登陆网络驱动器的密码、VPN密码、拨号密码、系统自动登陆密码等，由于可以还原出明文密码，因此lsadump被视为安全从业人员的必备工具。</p>
    
    <h2>147 pack</h2>
    <p>如果你认为自己学会了几个密码破解软件，就可以自称专业人士的话，那只能说明你还是个小白。众所周知，根据目前计算机的运算能力，实现全键盘空间字符的密码破解是不可能的。但如果能准确的分析密码构成规则，则完全可以在可接受的时间范围内，完成半数以上的密码破解。Pack全称是密码分析破解工具包，他通过分析已有字典的密码构成规则，使我们可以在最短的时间里最大限度的完成破解密码。这是你成为密码破解专业人士的必备一课。</p>
    
    <h2>148 ophcrack</h2>
    <p>众所周知，windows系统会将用户帐号的密码，经过单向加密之后保存在用户帐号数据库中。但由于加密算法公开通用，因此明文密码加密之后的密永远不变，这直接导致了密码碰撞破解思路的产生，即攻击者先计算出全部明文对应的密文，再通过比对密文来破解明文。ophcrack是一个基于彩虹表的windows密码破解工具，同时其官网提供了大量现成的彩虹表下载，从而大大提高了密码的破解效率。</p>
    
    <h2>149 rainbowcrack</h2>
    <p>虽然单向加密算法通常被认为是不可能被破解的，但黑客却找到了碰撞破解的思路。即先计算出全部明文对应的密文，然后再通过比对密文来倒推明文的方式。在碰撞破解的过程中计算明文对应密文的过程最耗时，因此有人提出了彩虹表的概念，将明文加密后对应的密文结果保存下来，以便日后重复使用，即彩虹表。rainbowcrack内含一套彩虹表的生成、优化、破解工具，并支持众多加密算法，更可利用GPU提高运算速度。</p>
    
    <h2>150 ncrack</h2>
    <p>ncrack是由nmap项目共同维护的在线密码破解工具，因此其命令格式和参数的用法都与nmap命令非常相似，这无疑会大大降低新用户的学习成本，同时其模块化的架构使其可以满足更多应用场景的需求。虽然其名气并不很大，但从密码破解能力方面来看，ncrack毫不逊色于同类的hydra、medusa等著名在线密码破解工具，而且在速度和稳定性方面还有更加优异的表现。</p>
    
    <h2>151 maskprocessor</h2>
    <p>众所周知，根据目前计算机的运算能力，要实现全键盘空间字符的密码破解是不可能实现的。因此更多情况下，我们都会采用基于字典的密码破解方式，而此时字典的命中率则成为密码破解成败的关键。为了构成命中率更高、更有针对性的密码字典，maskprocessor给我们提供了众多的规则选择，是我们自定义密码字典的首选利器。</p>
    
    <h2>152 sucrack</h2>
    <p>通常渗透测试者在通过应用程序漏洞获得系统shell之后，会发现自己拥有的只是普通用户帐号的权限，因此需要进一步的提权操作，将自己提升为root权限。su是所有linux系统都支持的用户切换命令，而切换过程中需要提供目标帐号的密码，因此我们可以利用此功能，使用不同的密码重复向系统进行身份验证，以此来实现密码的暴力破解，sucrack即是自动实现这一过程的首选工具。</p>
    
    <h2>153 thc-pptp-bruter</h2>
    <p>为防止内部系统暴露在公网之上，很多公司会采用VPN的解决方式，而微软的MSChapV2则是VPN最广泛被采用的身份验证方法。不幸的是，微软系统的早期版本在实现身份验证的过程中存在漏洞，微软虽然为此发布了补丁，但并未彻底修复该漏洞，使得所有采用该身份验证方式的VPN都会遭受到密码的暴力破解攻击。thc-pptp-bruter即是利用此漏洞，专门针对PPTP VPN进行密码爆破的工具之一。</p>
    
    <h2>154 patator</h2>
    <p>虽然hydra、medusa、ncrack等工具都是优秀的在线密码破解工具，但仍然无法满足所有场景的破解需求，因此在厌倦了以上所有工具之后，作者开发了patator。这是一款高度定制化的密码破解工具，使用者可以按照当前实际场景，灵活定义破解成功与否的判断依据，但也同时使其学习成本明显高于其他工具。同时patator还包涵部分在线枚举和离线密码破解功能，使其成为一个综合型的密码破解工具。</p>
    
    <h2>155 hashcat</h2>
    <p>如果上天只允许我选择一个离线密码破解工具的话，那么我的选择一定是hashcat。hashcat不但开源免费，而且它还是世界上速度最快的离线密码破解工具。它提供多系统、多算法、多硬件平台、分布式等几乎全特性的功能支持，同时还支持OpenCL、CUDA等编程标准。目前hashcat已经实现了所有版本的合并统一，使得初学者无需再迷茫的寻找适合自己的软件版本，现在hashcat会自动检测你的CPU和GPU，从而最大限度的发挥你的计算能力。</p>
    
    <h2>156 sipcrack</h2>
    <p>利用廉价共享带宽的IP网络承载实时语音通话的技术称为VoIP，SIP则是目前使用最广且接受度最高的VoIP信令协议。SIP是一种基于文本的信号控制协议，主要负责在客户端与服务期（PBX）间进行身份认证、会话建立和会话管理等工作。如果攻击者可以嗅探身份认证的通信过程，则可以利用sipcrack基于字典破解其中的加密摘要信息。</p>
    
    <h2>157 oclGaussCrack</h2>
    <p>2009年震网病毒的出现，标志着政府背景的武器化攻击程序已经走入现实。随后出现的火焰病毒再次证明，网络空间的战争其实每天都在我们身边悄悄的进行。2011年出现的高斯病毒使用了与震网、火焰病毒相同的基础代码、软件建构以及与CC服务器的通信方式，种种迹象表明它们全部出自同一开发队伍。由于采用了高级加密方式，最初高斯病毒的payload无法解密，直到ocalgausscrack工具的出现。</p>
    
    <h2>158 mimikatz</h2>
    <p>最近安全社区的一篇文章评出了黑客最经常使用的5个工具，其中就包括本课的mimikatz，此工具堪称windows系统凭据收集领域的瑞士军刀，即在统一框架下集成了众多身材小巧且功能强大的工具集合。凭据包括账号密码、HASH、证书、令牌、cookie等众多类型的信息，一旦获取将可能完全控制目标系统。但由于该工具涉及过多的背景知识，因此几乎没有人能发挥其全部功能（一般只用两条命令），本课我竭尽所能向大家展示这个神一样的存在。</p>
    
    <h2>159 PtH / WCE / xfreerdp</h2>
    <p>密码破解是个耗时耗资源的事情，如果可以不必忍受这个煎熬的过程，相信每个渗透测试者都会兴奋不已。在密码破解领域有一种称为Pass the Hash的攻击思路，即在已经获得密码密文的情况下，并不进行破解，而是直接提交密文从而实现身份认证。其最典型的应用场景就是攻击Windows操作系统，windows早期版本的密码加密过程不加盐，因此很容易遭受PtH攻击。本课为大家介绍的PtH工具包共包含10个具体工具，分别适合在不同需求环境下使用。</p>
    
    <h2>160 Statsprocessor / hcstatgen</h2>
    <p>依靠现代计算机的运算能力，并不足以在可接受的时间范围内完成全键盘字符空间的密码破解任务，这正是现代密码学仍然可以提供安全性的前提，因此纯暴力的密码破解是不现实的，同样也使得基于密码字典的破解方式成为普遍的选择。如何减小字典的体积，同时提高命中率是所有破解者的共同目标。本课我重点向大家介绍“马尔科夫链”在密码破解领域的实际应用，同时利用本课的两个工具，我们可以轻松生成接近真实的密码字典。</p>
    
    <h2>161 John / Johnny / unshadow</h2>
    <p>John the Ripper是你必须掌握的一个离线密码破解工具，它可以自动识别并解密200多种加密算法和应用。其功能之丰富强大，已经达到了令人震惊的程度，为了降低使用者的难度，John通过配置文件保存大部分常用参数，因此使用者并不会觉得太过复杂。它支持4种破解模式，可以满足所有用户和场景的需要，强大的掩码和规则更可对现有密码字典进行丰富的变形，最大程度提高密码破解成功率。Johnny是图形化界面的John。</p>
  </body>
</html>
